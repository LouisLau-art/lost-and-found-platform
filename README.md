# æ ¡å›­å¤±ç‰©æ‹›é¢†å¹³å° (Campus Lost & Found Platform)

[![Vue.js](https://img.shields.io/badge/Vue.js-4FC08D?style=flat&logo=vuedotjs&logoColor=white)](https://vuejs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-009688?style=flat&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Element Plus](https://img.shields.io/badge/Element%20Plus-409EFF?style=flat&logo=element&logoColor=white)](https://element-plus.org/)

ä¸€ä¸ªåŸºäºç°ä»£WebæŠ€æœ¯æ ˆæ„å»ºçš„æ™ºèƒ½æ ¡å›­å¤±ç‰©æ‹›é¢†å¹³å°ï¼Œæä¾›é«˜æ•ˆçš„ç‰©å“åŒ¹é…ã€ç”¨æˆ·äº¤äº’å’Œç¤¾åŒºåŠŸèƒ½ã€‚

## ğŸ“Œ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªé¢å‘æ ¡å›­ç¯å¢ƒçš„å¤±ç‰©æ‹›é¢†å¹³å°ï¼Œæ—¨åœ¨é€šè¿‡æŠ€æœ¯æ‰‹æ®µæé«˜å¤±ç‰©æ‹›é¢†çš„æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚å¹³å°é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œåç«¯åŸºäºPython FastAPIæ¡†æ¶ï¼Œå‰ç«¯ä½¿ç”¨Vue 3æ„å»ºï¼Œæ•°æ®åº“é‡‡ç”¨SQLiteï¼ˆå¼€å‘ç¯å¢ƒï¼‰å’ŒPostgreSQLï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½
- **ç”¨æˆ·è®¤è¯**ï¼šæ”¯æŒé‚®ç®±/å¯†ç æ³¨å†Œä¸ç™»å½•ï¼ŒJWTä»¤ç‰Œè®¤è¯
- **ç”¨æˆ·ç®¡ç†**ï¼šä¸ªäººèµ„æ–™ç®¡ç†ã€é€šçŸ¥ç³»ç»Ÿå’Œä¿¡ç”¨è¯„åˆ†ç³»ç»Ÿ
- **ç¤¾åŒºè®ºå›**ï¼šå‘å¸ƒå¸–å­ã€è¯„è®ºäº’åŠ¨ã€ç‚¹èµæ”¶è—
- **å®æ—¶é€šçŸ¥**ï¼šè¯„è®ºã€è®¤é¢†çŠ¶æ€å˜æ›´ç­‰å®æ—¶æé†’
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯çš„ç°ä»£åŒ–UIç•Œé¢

### å¤±ç‰©æ‹›é¢†ç‰¹è‰²åŠŸèƒ½
- **æ™ºèƒ½åˆ†ç±»**ï¼šæ”¯æŒå¤šç§ç‰©å“åˆ†ç±»ï¼ˆç”µå­è®¾å¤‡ã€è¯ä»¶ã€é’¥åŒ™ç­‰ï¼‰
- **æ™ºèƒ½åŒ¹é…**ï¼šåŸºäºå†…å®¹çš„æ¨èç³»ç»Ÿï¼Œè‡ªåŠ¨åŒ¹é…å¤±ç‰©ä¸æ‹›é¢†ä¿¡æ¯
- **å¤šå›¾ä¸Šä¼ **ï¼šæ”¯æŒå¤šå¼ å›¾ç‰‡ä¸Šä¼ ï¼Œå±•ç¤ºç‰©å“è¯¦æƒ…
- **é«˜çº§æœç´¢**ï¼šæŒ‰åˆ†ç±»ã€åœ°ç‚¹ã€æ—¶é—´ã€çŠ¶æ€ç­‰å¤šç»´åº¦ç­›é€‰
- **è®¤é¢†ç³»ç»Ÿ**ï¼šå®Œæ•´çš„è®¤é¢†æµç¨‹ï¼ŒåŒ…æ‹¬ç”³è¯·ã€å®¡æ ¸ã€ç¡®è®¤
- **äº’è¯„ç³»ç»Ÿ**ï¼šç‰©å“æ‰€æœ‰äººä¸è®¤é¢†äººä¹‹é—´çš„ç›¸äº’è¯„ä»·
- **ä¿¡ç”¨ç§¯åˆ†**ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºçš„ä¿¡ç”¨è¯„åˆ†ç³»ç»Ÿ
- **è¯¦ç»†ä¿¡æ¯**ï¼šè®°å½•ç‰©å“ä½ç½®ã€æ—¶é—´ã€è”ç³»æ–¹å¼ç­‰å…³é”®ä¿¡æ¯

## ğŸš€ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **FastAPI**ï¼šé«˜æ€§èƒ½Python Webæ¡†æ¶ï¼Œè‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
- **SQLModel**ï¼šç»“åˆSQLAlchemyå’ŒPydanticçš„ç±»å‹å®‰å…¨ORM
- **SQLite/PostgreSQL**ï¼šè½»é‡çº§æ–‡ä»¶æ•°æ®åº“/ä¼ä¸šçº§å…³ç³»å‹æ•°æ®åº“
- **JWT**ï¼šåŸºäºJSON Web Tokençš„è®¤è¯æœºåˆ¶
- **Alembic**ï¼šæ•°æ®åº“è¿ç§»å·¥å…·
- **Uvicorn**ï¼šASGIæœåŠ¡å™¨ï¼Œæ”¯æŒå¼‚æ­¥è¯·æ±‚å¤„ç†
- **Scikit-learn**ï¼šç”¨äºæ™ºèƒ½åŒ¹é…ç®—æ³•
- **Python-Levenshtein**ï¼šå­—ç¬¦ä¸²ç›¸ä¼¼åº¦è®¡ç®—

### å‰ç«¯æŠ€æœ¯
- **Vue 3**ï¼šæ¸è¿›å¼JavaScriptæ¡†æ¶ï¼Œé‡‡ç”¨Composition API
- **Pinia**ï¼šVueçš„ç°ä»£åŒ–çŠ¶æ€ç®¡ç†åº“
- **Vue Router**ï¼šVue.jså®˜æ–¹è·¯ç”±ç®¡ç†å™¨
- **Axios**ï¼šåŸºäºPromiseçš„HTTPå®¢æˆ·ç«¯
- **Element Plus**ï¼šåŸºäºVue 3çš„æ¡Œé¢ç«¯ç»„ä»¶åº“
- **Tailwind CSS**ï¼šå®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **Vite**ï¼šä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- **Day.js**ï¼šè½»é‡çº§æ—¥æœŸå¤„ç†åº“

## ğŸ“ é¡¹ç›®ç»“æ„

```
lost-and-found-platform/
â”œâ”€â”€ backend/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app/                # åº”ç”¨ä¸»ç›®å½•
â”‚   â”‚   â”œâ”€â”€ api/            # APIè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ v1/         # APIç‰ˆæœ¬1
â”‚   â”‚   â”‚   â””â”€â”€ deps.py     # ä¾èµ–æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py   # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ security.py # å®‰å…¨ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/        # Pydanticæ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ tests/              # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ alembic/            # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ scripts/            # å®ç”¨è„šæœ¬
â”‚   â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â”‚   â””â”€â”€ start.py            # å¯åŠ¨è„šæœ¬
â”‚
â””â”€â”€ frontend/               # å‰ç«¯ä»£ç 
    â””â”€â”€ frontend/           # Vueé¡¹ç›®
        â”œâ”€â”€ public/         # é™æ€èµ„æº
        â””â”€â”€ src/
            â”œâ”€â”€ api/        # APIè¯·æ±‚
            â”œâ”€â”€ assets/     # èµ„æºæ–‡ä»¶
            â”œâ”€â”€ components/ # å…¬å…±ç»„ä»¶
            â”œâ”€â”€ router/     # è·¯ç”±é…ç½®
            â”œâ”€â”€ stores/     # PiniaçŠ¶æ€ç®¡ç†
            â”œâ”€â”€ utils/      # å·¥å…·å‡½æ•°
            â””â”€â”€ views/      # é¡µé¢ç»„ä»¶
```

## ğŸ”„ æœ€è¿‘æ›´æ–°

### å‰ç«¯ä¼˜åŒ– (2024-01-15)
- ç»Ÿä¸€ä½¿ç”¨`content-wrapper`åŒ…è£…ä¸»è¦è§†å›¾ï¼Œç¡®ä¿ä¸€è‡´çš„é¡µé¢å¸ƒå±€
- åˆ›å»º`message`å·¥å…·å‡½æ•°ï¼Œç»Ÿä¸€ç®¡ç†æ¶ˆæ¯æç¤º
- ä¼˜åŒ–é€šçŸ¥ä¸­å¿ƒï¼Œä½¿ç”¨`router-link`å®ç°é¡µé¢è·³è½¬
- ä¿®å¤äº†å¤šä¸ªè§†å›¾ä¸­çš„æ¶ˆæ¯æç¤ºå’Œå¸ƒå±€é—®é¢˜

### æ•°æ®åº“ä¼˜åŒ– (2024-01-10)
- ä¼˜åŒ–äº†æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
- æ·»åŠ äº†æ•°æ®åº“å¤‡ä»½å’Œæ¢å¤è„šæœ¬
- ä¿®å¤äº†æ•°æ®ä¸€è‡´æ€§é—®é¢˜

## ğŸš§ å¼€å‘è¿›å±•

### å·²å®ŒæˆåŠŸèƒ½
- [x] ç”¨æˆ·è®¤è¯ï¼ˆæ³¨å†Œã€ç™»å½•ã€JWTï¼‰
- [x] ç‰©å“å‘å¸ƒä¸ç®¡ç†
- [x] å›¾ç‰‡ä¸Šä¼ ä¸å±•ç¤º
- [x] è®¤é¢†æµç¨‹å®ç°
- [x] ç”¨æˆ·è¯„ä»·ç³»ç»Ÿ
- [x] é€šçŸ¥ç³»ç»Ÿ
- [x] å“åº”å¼å¸ƒå±€

### è¿›è¡Œä¸­
- [ ] æ™ºèƒ½æ¨èç®—æ³•ä¼˜åŒ–
- [ ] åå°ç®¡ç†ç³»ç»Ÿ
- [ ] æ•°æ®ç»Ÿè®¡ä¸åˆ†æ
- [ ] å¤šè¯­è¨€æ”¯æŒ

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Python 3.9+
- Node.js 18+
- SQLite/PostgreSQL

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/yourusername/lost-and-found-platform.git
   cd lost-and-found-platform
   ```

2. **åç«¯è®¾ç½®**
   ```bash
   cd backend
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   # æˆ– venv\Scripts\activate  # Windows
   pip install -r requirements.txt
   ```

3. **å‰ç«¯è®¾ç½®**
   ```bash
   cd ../frontend/frontend
   npm install
   ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   # å¯åŠ¨åç«¯
   cd ../../backend
   uvicorn app.main:app --reload
   
   # å¯åŠ¨å‰ç«¯ (æ–°ç»ˆç«¯)
   cd ../frontend/frontend
   npm run dev
   ```

5. è®¿é—® `http://localhost:5173`

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestã€‚è¯·ç¡®ä¿ï¼š
1. éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼
2. æ·»åŠ é€‚å½“çš„æµ‹è¯•
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š
- é‚®ç®±ï¼šyour.email@example.com
- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/yourusername/lost-and-found-platform/issues)

### Core Features
- **User Authentication**: Email/password registration and login with JWT tokens
- **User Management**: Profile management, notifications, and credit scoring system
- **Community Forum**: Create posts, comment on posts, and engage with the community
- **Real-time Notifications**: Get notified about comments and other activities
- **Responsive Design**: Modern, mobile-friendly UI built with Tailwind CSS

### Lost & Found Features âœ¨
- **Item Categories**: Organize lost and found items by category (electronics, documents, keys, etc.)
- **Smart Matching**: Intelligent recommendation system to match lost and found items
- **Image Upload**: Support multiple image uploads for item posts
- **Advanced Search**: Filter by category, location, time, and claimed status
- **Claim System**: Complete claim workflow with approval/rejection
- **Rating System**: Mutual rating between item owners and claimers
- **Credit Score**: Automatic credit score updates based on ratings
- **Detailed Information**: Track item location, time, and contact information

## Tech Stack

### Backend
- **FastAPI**: Modern, fast web framework for building APIs
- **SQLModel**: Type-safe ORM that combines SQLAlchemy and Pydantic
- **PostgreSQL**: Robust, open-source relational database
- **JWT**: Secure authentication with JSON Web Tokens
- **Alembic**: Database migration tool

### Frontend
- **Vue 3**: Progressive JavaScript framework with Composition API
- **Pinia**: State management for Vue applications
- **Vue Router**: Official router for Vue.js
- **Axios**: HTTP client for API communication
- **Tailwind CSS**: Utility-first CSS framework

## Project Structure

```
lost-and-found-platform/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/           # API routes
â”‚   â”‚   â”œâ”€â”€ core/          # Core functionality (security, config)
â”‚   â”‚   â”œâ”€â”€ models/        # SQLModel database models
â”‚   â”‚   â”œâ”€â”€ schemas/       # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ database.py    # Database configuration
â”‚   â”‚   â””â”€â”€ main.py        # FastAPI application
â”‚   â”œâ”€â”€ requirements.txt   # Python dependencies
â”‚   â””â”€â”€ start.py          # Startup script
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ api/       # API client configuration
â”‚       â”‚   â”œâ”€â”€ components/ # Vue components
â”‚       â”‚   â”œâ”€â”€ stores/    # Pinia stores
â”‚       â”‚   â”œâ”€â”€ views/     # Vue pages
â”‚       â”‚   â””â”€â”€ router/    # Vue Router configuration
â”‚       â””â”€â”€ package.json   # Node.js dependencies
â””â”€â”€ README.md
```

## Getting Started

### Prerequisites

- Python 3.8+
- Node.js 16+
- PostgreSQL 12+

### Backend Setup

1. Navigate to the backend directory:
   ```bash
   cd backend
   ```

2. Create a virtual environment:
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

4. Set up environment variables:
   ```bash
   cp .env.example .env
   # Edit .env with your database credentials
   ```

5. Start the backend server:
   ```bash
   python start.py
   ```

The API will be available at `http://localhost:8000`

### Frontend Setup

1. Navigate to the frontend directory:
   ```bash
   cd frontend/frontend
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Start the development server:
   ```bash
   npm run dev
   ```

The frontend will be available at `http://localhost:5173`

### Create an Admin User

To create an administrator account for the platform:

```bash
cd backend
python create_admin.py
```

The script will interactively prompt you for:
- Username
- Full Name  
- Email
- Password (with confirmation)

The created user will have admin privileges and can access the admin panel at `/admin`.

### Seed the Database with Test Data

To quickly populate the database with realistic test data (users, posts, claims, comments, ratings):

1. **BACKUP YOUR DATABASE FIRST** (optional but recommended):
   ```bash
   cd backend
   ./backup_database.sh
   ```

2. Ensure backend dependencies are installed:
   ```bash
   pip install -r requirements.txt
   ```

3. Run the seeding script:
   ```bash
   python seed_database.py
   # Type 'yes' when prompted to confirm
   ```

**âš ï¸ WARNING:** This script is DESTRUCTIVE and will:
- Delete ALL existing data (users, posts, claims, comments, etc.)
- Create fresh test data with Faker
- Create a default admin account (`admin@example.com` / `admin123`)

Notes:
- The script requires typing 'yes' to proceed as a safety measure
- Uses the DATABASE_URL from environment or falls back to SQLite
- Creates ~20 users, ~50 posts, ~30 claims, and related data

## API Endpoints

### Authentication
- `POST /api/auth/register` - User registration
- `POST /api/auth/login` - User login
- `GET /api/auth/me` - Get current user info

### Users
- `GET /api/users/profile` - Get user profile
- `PUT /api/users/profile` - Update user profile
- `GET /api/users/notifications` - Get user notifications
- `PUT /api/users/notifications/{id}/read` - Mark notification as read

### Categories
- `GET /api/categories/` - List all categories
- `GET /api/categories/{id}` - Get category detail

### Posts (Lost & Found)
- `GET /api/posts` - List posts (with filtering)
- `POST /api/posts` - Create post
- `GET /api/posts/{id}` - Get post detail
- `PUT /api/posts/{id}` - Update post
- `DELETE /api/posts/{id}` - Delete post
- `GET /api/posts/{id}/matches` - Get smart matches for a post
- `GET /api/posts/search/advanced` - Advanced search
- `POST /api/posts/{id}/comments` - Add comment
- `GET /api/posts/{id}/comments` - List comments
- `DELETE /api/posts/comments/{id}` - Delete comment

### Claims âœ¨
- `POST /api/claims/` - Create claim request
- `GET /api/claims/my-claims` - Get my claim requests
- `GET /api/claims/post/{id}` - Get claims for a post
- `POST /api/claims/{id}/approve` - Approve a claim
- `POST /api/claims/{id}/reject` - Reject a claim
- `DELETE /api/claims/{id}` - Cancel a claim

### Ratings âœ¨
- `POST /api/ratings/` - Create rating
- `GET /api/ratings/claim/{id}` - Get ratings for a claim
- `GET /api/ratings/user/{id}/received` - Get ratings received by user

### Users âœ¨
- `GET /api/users/{id}` - Get user public information
- `GET /api/users/{id}/posts` - Get user's posts
- `GET /api/users/{id}/ratings` - Get user's ratings

### Upload
- `POST /api/upload/upload` - Upload single image
- `POST /api/upload/upload-multiple` - Upload multiple images
- `DELETE /api/upload/{filename}` - Delete image

## Database Schema

The application uses the following main entities:

- **Users**: User accounts with authentication, profile information, and credit scores
- **Categories**: Item categories (electronics, documents, keys, books, etc.)
- **Posts**: Forum posts with lost/found item information
- **Comments**: Comments on posts
- **Notifications**: System notifications for users
- **Claims** âœ¨: Claim requests for lost and found items
- **Ratings** âœ¨: User ratings after successful claims

## Admin Setup

To create an administrator account, run the admin creation script:

```bash
cd backend
source .venv/bin/activate  # Activate virtual environment
python3 create_admin.py
```

The script will prompt you to enter:
- Username
- Full Name
- Email
- Password (minimum 6 characters)

Once created, you can login with these credentials and access admin features including:
- User management (`/admin/users`)
- Post moderation (`/admin/posts`)
- System-wide content management

## Development

### Running Tests

```bash
# Backend tests
cd backend
pytest

# Frontend tests
cd frontend/frontend
npm run test
```

### Database Migrations

```bash
cd backend
alembic upgrade head
```

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## Documentation

- **[Claim System Complete Guide](./docs/features/claim/CLAIM_SYSTEM_COMPLETE.md)** - Complete implementation report of the claim system
- **[User Profile Feature](./docs/features/user-profile/USER_PROFILE_COMPLETE.md)** - User profile and rating display feature
- **[Testing Checklist](./docs/testing/TESTING_CHECKLIST.md)** - Comprehensive testing guide
- **[Development Summary](./docs/reports/DEVELOPMENT_SUMMARY.md)** - Development completion summary

## Current Status

### Completed Features (â‰ˆ 90%)
- âœ… User authentication and authorization
- âœ… User profile management
- âœ… Forum system with posts and comments
- âœ… Notification system
- âœ… Item categories
- âœ… Image upload (single and multiple)
- âœ… Advanced search and filtering
- âœ… Smart matching algorithm
- âœ… **Claim system** (NEW)
- âœ… **Rating system** (NEW)
- âœ… **Credit score system** (NEW)
- âœ… **User profile page** (NEW) âœ¨

### Optional Enhancements
- âš ï¸ Admin dashboard
- âš ï¸ Real-time messaging
- âš ï¸ Email notifications
- âš ï¸ Data analytics and reports

## License

This project is licensed under the MIT License.

